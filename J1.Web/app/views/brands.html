<div class="row">
	<div class="col-lg-12">
		<h1 class="page-header">Бренды</h1>
	</div>
</div>

<div data-ng-controller="BrandsListCtrl" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
	<div class="row">
		<div class="col-sm-6">
			<div id="dataTables-example_filter" class="dataTables_filter">
				<label>Поиск:<input class="form-control input-sm" placeholder="" aria-controls="dataTables-example" type="search"></label>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-default">
				<table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
					<thead>
						<tr>
							<th>Наименование</th>
						</tr>
					</thead>
					<tbody>
						<tr class="odd gradeX" data-ng-repeat="brand in brands">
							<td>
								{{ brand.Name }}
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	var BrandsListCtrl = [
		'$scope', '$location', '$timeout', 'adminService', function( $scope, $location, $timeout, adminService ) {
			$scope.brands = [];

			loadBrands();

			function loadBrands() {
				adminService.getBrands()
					.then( function( results ) {
							$scope.brands = results.data;
						},
						function( error ) {} );
			}

			$scope.reloadBrands = function() {
				loadBrands();
			};
		}
	]
</script>
